{"ast":null,"code":"import _regeneratorRuntime from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/src/components/search.js\";\nimport React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport '../styles/App.css';\nvar baseUrl = \"https://newsapi.org/v2\";\nvar searchCategory = \"/top-headlines\";\nvar searchCategory2 = \"/everything?q=\";\nvar searchSource = \"bbc-news\";\nvar keyAPI = \"31a74b58e4bb4e1bb1d7bb0542dd1d81\";\nvar search = 'sport';\nvar myReqUrl = baseUrl + searchCategory + \"?sources=\" + searchSource + \"&apiKey=\" + keyAPI;\nvar myReqUrl2 = baseUrl + searchCategory2 + search + \"&apiKey=\" + keyAPI;\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.componentDidMount = function () {\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      axios.get(myReqUrl).then(function (response) {\n        self.setState({\n          listNews: response.data.articles\n        });\n        console.log(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleInputChange = function (e) {\n      console.log('event', e.target.value);\n      var value = e.target.value;\n\n      _this.setState({\n        search: value\n      }, function () {\n        _this.searchNews(value);\n      });\n    };\n\n    _this.searchNews =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(keyword) {\n        var self, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('searchNews', keyword);\n                self = _assertThisInitialized(_assertThisInitialized(_this));\n\n                if (!(keyword.length > 2)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.prev = 3;\n                _context.next = 6;\n                return axios.get(baseUrl + \"/everything?q=\" + keyword + \"&apiKey=\" + keyAPI);\n\n              case 6:\n                response = _context.sent;\n                console.log(response);\n                self.setState({\n                  listNews: response.data.articles\n                });\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](3);\n                console.log(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[3, 11]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      listNews: [],\n      username: \"\",\n      isLogin: false,\n      search: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          listNews = _this$state.listNews,\n          username = _this$state.username,\n          isLogin = _this$state.isLogin;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"topsection\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-12 offset-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"classSearch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"navbar-form navbar-center\",\n        action: \"http:127.0.0.1:5000/pembeli/produk/search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group col-lg-10\",\n        style: {\n          width: \"100%\",\n          paddingTop: \"2px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"search\",\n        className: \"form-control\",\n        id: \"search\",\n        value: this.props.keyword,\n        placeholder: this.props.placeholder,\n        onChange: this.props.doSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"glyphicon glyphicon-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })))))))))), React.createElement(\"div\", {\n        className: \"album background\",\n        id: \"level-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"headerCart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6 col-sm-12 offset-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, listNews.map(function (item, key) {\n        return React.createElement(News, {\n          key: key,\n          title: item.title,\n          img: item.urlToImage,\n          content: item.content,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        });\n      }))))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nSearch.propTypes = {\n  title: propTypes.string.isRequired,\n  placeholder: propTypes.string.isRequired\n};\nexport default Search;","map":{"version":3,"sources":["/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/src/components/search.js"],"names":["React","Component","propTypes","baseUrl","searchCategory","searchCategory2","searchSource","keyAPI","search","myReqUrl","myReqUrl2","Search","props","componentDidMount","self","axios","get","then","response","setState","listNews","data","articles","console","log","catch","error","handleInputChange","e","target","value","searchNews","keyword","length","state","username","isLogin","width","paddingTop","placeholder","doSearch","map","item","key","title","urlToImage","content","string","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport propTypes from 'prop-types';\n\nimport '../styles/App.css';\n\nconst baseUrl = \"https://newsapi.org/v2\";\nconst searchCategory = \"/top-headlines\";\nconst searchCategory2 = \"/everything?q=\";\nconst searchSource  = \"bbc-news\";\nconst keyAPI = \"31a74b58e4bb4e1bb1d7bb0542dd1d81\";\nconst search = 'sport';\n\nconst myReqUrl = baseUrl + searchCategory + \"?sources=\"+ searchSource + \"&apiKey=\" + keyAPI\nconst myReqUrl2 = baseUrl + searchCategory2 + search + \"&apiKey=\" + keyAPI\n\n\nclass Search extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n          listNews : [],\n          username : \"\",\n          isLogin : false,\n          search : \"\"\n        }\n      }\n      \n    componentDidMount = () => {\n    const self = this;\n    axios\n    .get(myReqUrl)\n    .then(function(response){\n        \n        self.setState({listNews: response.data.articles})\n        console.log(response.data)\n    })\n    .catch(function(error){\n        console.log(error)\n    })\n    }\n\n    handleInputChange = e => {\n    console.log('event', e.target.value);\n    let value = e.target.value;\n\n    this.setState(\n        {\n        search: value\n        },\n        () => {\n        this.searchNews(value);\n        }\n    );\n    };\n\n    searchNews = async keyword => {\n    console.log('searchNews', keyword);\n    const self = this;\n    if(keyword.length > 2){\n        try {\n        const response = await axios.get(baseUrl + \"/everything?q=\" + keyword + \"&apiKey=\" + keyAPI);\n        console.log(response);\n        self.setState({listNews : response.data.articles})\n        } catch (error){\n            console.log(error);\n        }\n        }\n    };\n\n    render() {\n    const {listNews, username, isLogin} = this.state;\n    return (\n        <div>\n        <section className=\"topsection\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-md-4 col-sm-12 offset-md-0\">\n                        <div id=\"classSearch\">\n                            <form className=\"navbar-form navbar-center\" action=\"http:127.0.0.1:5000/pembeli/produk/search\">\n                                <div className=\"input-group col-lg-10\" style={{width:\"100%\", paddingTop: \"2px\"}}>\n                                    \n                                    <input \n                                    type=\"text\" \n                                    name='search' \n                                    className=\"form-control\" \n                                    id=\"search\" \n                                    value={this.props.keyword} \n                                    placeholder={this.props.placeholder} \n                                    onChange={this.props.doSearch}\n                                    />\n                                    {/* <input type=\"text\" name='keyword' className=\"form-control\" placeholder=\"Search\"></input> */}\n                                    <div className=\"input-group-btn\">\n                                        <button className=\"btn btn-success\" type=\"submit\">\n                                            <i className=\"glyphicon glyphicon-search\"></i>\n                                        </button>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n        </div>\n        </section>\n\n        <div className=\"album background\" id=\"level-0\">\n            <div className=\"headerCart\">\n            <div className=\"col-md-6 col-sm-12 offset-md-0\">\n                <div className=\"flex-container\">\n                {listNews.map((item, key) => {\n                    return <News key={key} title={item.title} img={item.urlToImage} content={item.content} />\n                })}\n                </div>\n            </div>\n            </div>\n        </div>\n        </div>\n        \n    );\n  }\n}\n\nSearch.propTypes = {\n    title: propTypes.string.isRequired,\n    placeholder: propTypes.string.isRequired\n};\n\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}