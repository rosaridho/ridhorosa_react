{"ast":null,"code":"import _regeneratorRuntime from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/src/components/search.js\";\nimport React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport axios from 'axios';\nimport '../styles/App.css';\nimport News from './contentKiriProps.js';\nvar baseUrl = \"https://newsapi.org/v2\";\nvar searchCategory = \"/top-headlines\";\nvar searchCategory2 = \"/everything?q=\";\nvar searchSource = \"bbc-news\";\nvar keyAPI = \"31a74b58e4bb4e1bb1d7bb0542dd1d81\";\nvar search = 'sport';\nvar myReqUrl = baseUrl + searchCategory + \"?sources=\" + searchSource + \"&apiKey=\" + keyAPI;\nvar myReqUrl2 = baseUrl + searchCategory2 + search + \"&apiKey=\" + keyAPI;\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.handleInputChange = function (e) {\n      console.log('event', e.target.value);\n      var value = e.target.value;\n\n      _this.setState({\n        search: value\n      }, function () {\n        _this.searchNews(value);\n      });\n    };\n\n    _this.searchNews =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(keyword) {\n        var self, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('searchNews', keyword);\n                self = _assertThisInitialized(_assertThisInitialized(_this));\n\n                if (!(keyword.length > 2)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.prev = 3;\n                _context.next = 6;\n                return axios.get(baseUrl + \"/everything?q=\" + keyword + \"&apiKey=\" + keyAPI);\n\n              case 6:\n                response = _context.sent;\n                console.log(response);\n                self.setState({\n                  listNews: response.data.articles\n                });\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](3);\n                console.log(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[3, 11]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.componentDidMount = function () {\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      axios.get(myReqUrl).then(function (response) {\n        self.setState({\n          listNews: response.data.articles\n        });\n        console.log(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      listNews: [],\n      username: \"\",\n      isLogin: false,\n      search: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          listNews = _this$state.listNews,\n          username = _this$state.username,\n          isLogin = _this$state.isLogin;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"topsection\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-12 offset-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"classSearch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"navbar-form navbar-center\",\n        action: \"http:127.0.0.1:5000/pembeli/produk/search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group col-lg-10\",\n        style: {\n          width: \"100%\",\n          paddingTop: \"2px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"search\",\n        className: \"form-control\",\n        id: \"search\",\n        value: this.props.keyword,\n        placeholder: this.props.placeholder,\n        onChange: this.props.doSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"glyphicon glyphicon-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }))))))))), React.createElement(\"div\", {\n        className: \"flex-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, listNews.map(function (item, key) {\n        return React.createElement(News, {\n          key: key,\n          title: item.title,\n          img: item.urlToImage,\n          content: item.content,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        });\n      }))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nSearch.propTypes = {\n  title: propTypes.string.isRequired,\n  placeholder: propTypes.string.isRequired\n};\nexport default Search;","map":{"version":3,"sources":["/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/src/components/search.js"],"names":["React","Component","propTypes","axios","News","baseUrl","searchCategory","searchCategory2","searchSource","keyAPI","search","myReqUrl","myReqUrl2","Search","props","handleInputChange","e","console","log","target","value","setState","searchNews","keyword","self","length","get","response","listNews","data","articles","componentDidMount","then","catch","error","state","username","isLogin","width","paddingTop","placeholder","doSearch","map","item","key","title","urlToImage","content","string","isRequired"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AAEA,IAAMC,OAAO,GAAG,wBAAhB;AACA,IAAMC,cAAc,GAAG,gBAAvB;AACA,IAAMC,eAAe,GAAG,gBAAxB;AACA,IAAMC,YAAY,GAAI,UAAtB;AACA,IAAMC,MAAM,GAAG,kCAAf;AACA,IAAMC,MAAM,GAAG,OAAf;AAEA,IAAMC,QAAQ,GAAGN,OAAO,GAAGC,cAAV,GAA2B,WAA3B,GAAwCE,YAAxC,GAAuD,UAAvD,GAAoEC,MAArF;AACA,IAAMG,SAAS,GAAGP,OAAO,GAAGE,eAAV,GAA4BG,MAA5B,GAAqC,UAArC,GAAkDD,MAApE;;IAGMI,M;;;;;AACF,kBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,gFAAMA,KAAN;;AADc,UAYlBC,iBAZkB,GAYE,UAAAC,CAAC,EAAI;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,CAAC,CAACG,MAAF,CAASC,KAA9B;AACA,UAAIA,KAAK,GAAGJ,CAAC,CAACG,MAAF,CAASC,KAArB;;AAEA,YAAKC,QAAL,CACI;AACAX,QAAAA,MAAM,EAAEU;AADR,OADJ,EAII,YAAM;AACN,cAAKE,UAAL,CAAgBF,KAAhB;AACC,OANL;AAQC,KAxBiB;;AAAA,UA0BlBE,UA1BkB;AAAA;AAAA;AAAA;AAAA;AAAA,+BA0BL,iBAAMC,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACbN,gBAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BK,OAA1B;AACMC,gBAAAA,IAFO;;AAAA,sBAGVD,OAAO,CAACE,MAAR,GAAiB,CAHP;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAKctB,KAAK,CAACuB,GAAN,CAAUrB,OAAO,GAAG,gBAAV,GAA6BkB,OAA7B,GAAuC,UAAvC,GAAoDd,MAA9D,CALd;;AAAA;AAKHkB,gBAAAA,QALG;AAMTV,gBAAAA,OAAO,CAACC,GAAR,CAAYS,QAAZ;AACAH,gBAAAA,IAAI,CAACH,QAAL,CAAc;AAACO,kBAAAA,QAAQ,EAAGD,QAAQ,CAACE,IAAT,CAAcC;AAA1B,iBAAd;AAPS;AAAA;;AAAA;AAAA;AAAA;AASLb,gBAAAA,OAAO,CAACC,GAAR;;AATK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA1BK;;AAAA;AAAA;AAAA;AAAA;;AAAA,UAyClBa,iBAzCkB,GAyCE,YAAM;AACtB,UAAMP,IAAI,wDAAV;;AACArB,MAAAA,KAAK,CACJuB,GADD,CACKf,QADL,EAECqB,IAFD,CAEM,UAASL,QAAT,EAAkB;AAEpBH,QAAAA,IAAI,CAACH,QAAL,CAAc;AAACO,UAAAA,QAAQ,EAAED,QAAQ,CAACE,IAAT,CAAcC;AAAzB,SAAd;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAYS,QAAQ,CAACE,IAArB;AACH,OAND,EAOCI,KAPD,CAOO,UAASC,KAAT,EAAe;AAClBjB,QAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAZ;AACH,OATD;AAUC,KArDa;;AAEd,UAAKC,KAAL,GAAW;AACTP,MAAAA,QAAQ,EAAG,EADF;AAETQ,MAAAA,QAAQ,EAAG,EAFF;AAGTC,MAAAA,OAAO,EAAG,KAHD;AAIT3B,MAAAA,MAAM,EAAG;AAJA,KAAX;AAFc;AAQf;;;;6BAgDM;AAAA,wBAC6B,KAAKyB,KADlC;AAAA,UACFP,QADE,eACFA,QADE;AAAA,UACQQ,QADR,eACQA,QADR;AAAA,UACkBC,OADlB,eACkBA,OADlB;AAET,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAS,QAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAC,2BAAhB;AAA4C,QAAA,MAAM,EAAC,2CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAuC,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAC,MAAP;AAAeC,UAAAA,UAAU,EAAE;AAA3B,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AACA,QAAA,IAAI,EAAC,MADL;AAEA,QAAA,IAAI,EAAC,QAFL;AAGA,QAAA,SAAS,EAAC,cAHV;AAIA,QAAA,EAAE,EAAC,QAJH;AAKA,QAAA,KAAK,EAAE,KAAKzB,KAAL,CAAWS,OALlB;AAMA,QAAA,WAAW,EAAE,KAAKT,KAAL,CAAW0B,WANxB;AAOA,QAAA,QAAQ,EAAE,KAAK1B,KAAL,CAAW2B,QAPrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAYI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,IAAI,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,4BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CAZJ,CADJ,CADJ,CADJ,CADJ,CADJ,CADJ,EA8BA;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAC6Bb,QAAQ,CAACc,GAAT,CAAa,UAACC,IAAD,EAAOC,GAAP,EAAe;AACzB,eAAO,oBAAC,IAAD;AAAM,UAAA,GAAG,EAAEA,GAAX;AAAgB,UAAA,KAAK,EAAED,IAAI,CAACE,KAA5B;AAAmC,UAAA,GAAG,EAAEF,IAAI,CAACG,UAA7C;AAAyD,UAAA,OAAO,EAAEH,IAAI,CAACI,OAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,OAFA,CAD7B,CA9BA,CADA,CADJ;AAqDD;;;;EAhHkB9C,S;;AAmHrBY,MAAM,CAACX,SAAP,GAAmB;AACf2C,EAAAA,KAAK,EAAE3C,SAAS,CAAC8C,MAAV,CAAiBC,UADT;AAEfT,EAAAA,WAAW,EAAEtC,SAAS,CAAC8C,MAAV,CAAiBC;AAFf,CAAnB;AAMA,eAAepC,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport axios from 'axios';\nimport '../styles/App.css';\nimport News from './contentKiriProps.js';\n\nconst baseUrl = \"https://newsapi.org/v2\";\nconst searchCategory = \"/top-headlines\";\nconst searchCategory2 = \"/everything?q=\";\nconst searchSource  = \"bbc-news\";\nconst keyAPI = \"31a74b58e4bb4e1bb1d7bb0542dd1d81\";\nconst search = 'sport';\n\nconst myReqUrl = baseUrl + searchCategory + \"?sources=\"+ searchSource + \"&apiKey=\" + keyAPI\nconst myReqUrl2 = baseUrl + searchCategory2 + search + \"&apiKey=\" + keyAPI\n\n\nclass Search extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n          listNews : [],\n          username : \"\",\n          isLogin : false,\n          search : \"\"\n        }\n      }\n      \n\n\n    handleInputChange = e => {\n    console.log('event', e.target.value);\n    let value = e.target.value;\n\n    this.setState(\n        {\n        search: value\n        },\n        () => {\n        this.searchNews(value);\n        }\n    );\n    };\n\n    searchNews = async keyword => {\n    console.log('searchNews', keyword);\n    const self = this;\n    if(keyword.length > 2){\n        try {\n        const response = await axios.get(baseUrl + \"/everything?q=\" + keyword + \"&apiKey=\" + keyAPI);\n        console.log(response);\n        self.setState({listNews : response.data.articles})\n        } catch (error){\n            console.log(error);\n        }\n        }\n    };\n\n\n    componentDidMount = () => {\n        const self = this;\n        axios\n        .get(myReqUrl)\n        .then(function(response){\n            \n            self.setState({listNews: response.data.articles})\n            console.log(response.data)\n        })\n        .catch(function(error){\n            console.log(error)\n        })\n        }\n\n\n    render() {\n    const {listNews, username, isLogin} = this.state;\n    return (\n        <div>\n        <section className=\"topsection\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-md-4 col-sm-12 offset-md-0\">\n                        <div id=\"classSearch\">\n                            <form className=\"navbar-form navbar-center\" action=\"http:127.0.0.1:5000/pembeli/produk/search\">\n                                <div className=\"input-group col-lg-10\" style={{width:\"100%\", paddingTop: \"2px\"}}>\n                                    \n                                    <input \n                                    type=\"text\" \n                                    name='search' \n                                    className=\"form-control\" \n                                    id=\"search\" \n                                    value={this.props.keyword} \n                                    placeholder={this.props.placeholder} \n                                    onChange={this.props.doSearch}\n                                    />\n                                    {/* <input type=\"text\" name='keyword' className=\"form-control\" placeholder=\"Search\"></input> */}\n                                    <div className=\"input-group-btn\">\n                                        <button className=\"btn btn-success\" type=\"submit\">\n                                            <i className=\"glyphicon glyphicon-search\"></i>\n                                        </button>\n                                    </div>\n                                   \n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n        </div>\n        <div className=\"flex-container\">\n                                    {listNews.map((item, key) => {\n                                        return <News key={key} title={item.title} img={item.urlToImage} content={item.content} />\n                                    })}\n                                    </div>\n        </section>\n\n        {/* <div className=\"album background\" id=\"level-0\">\n            <div className=\"headerCart\">\n            <div className=\"col-md-6 col-sm-12 offset-md-0\">\n                <div className=\"flex-container\">\n                {listNews.map((item, key) => {\n                    return <News key={key} title={item.title} img={item.urlToImage} content={item.content} />\n                })}\n                </div>\n            </div>\n            </div>\n        </div> */}\n        </div>\n        \n    );\n  }\n}\n\nSearch.propTypes = {\n    title: propTypes.string.isRequired,\n    placeholder: propTypes.string.isRequired\n};\n\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}