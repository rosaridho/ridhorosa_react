{"ast":null,"code":"import _regeneratorRuntime from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/src/components/search.js\";\nimport React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport axios from 'axios';\nvar baseUrl = \"https://newsapi.org/v2\";\nvar searchCategory = \"/top-headlines\";\nvar searchSource = \"bbc-news\";\nvar keyAPI = \"31a74b58e4bb4e1bb1d7bb0542dd1d81\";\nvar myReqUrl = baseUrl + searchCategory + \"?sources=\" + searchSource + \"&apiKey=\" + keyAPI;\nimport '../styles/App.css';\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      listNews: [],\n      username: \"\",\n      isLogin: false,\n      search: \"\"\n    };\n\n    _this.componentDidMount = function () {\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      axios.get(myReqUrl).then(function (response) {\n        self.setState({\n          listNews: response.data.articles\n        });\n        console.log(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handlInputChange = function (e) {\n      console.log('event', e.target.value);\n      var value = e.target.value;\n\n      _this.setState({\n        search: value\n      }, function () {\n        _this.searchNews(value);\n      });\n    };\n\n    _this.searchNews =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(keyword) {\n        var self, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('searchNews', keyword);\n                self = _assertThisInitialized(_assertThisInitialized(_this));\n\n                if (!(keyword.length > 4)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.prev = 3;\n                _context.next = 6;\n                return axios.get(baseUrl + \"/everything?q=\" + keyword);\n\n              case 6:\n                response = _context.sent;\n                console.log(response);\n                self.setState({\n                  listNews: response.data.articles\n                });\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](3);\n                console.log(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[3, 11]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"section\", {\n        className: \"topsection\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-12 offset-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"classSearch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"navbar-form navbar-center\",\n        action: \"http:127.0.0.1:5000/pembeli/produk/search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group col-lg-10\",\n        style: {\n          width: \"100%\",\n          paddingTop: \"2px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"search\",\n        className: \"form-control\",\n        id: \"search\",\n        value: this.props.keyword,\n        placeholder: this.props.placeholder,\n        onChange: this.props.doSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"glyphicon glyphicon-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }))))))))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nSearch.propTypes = {\n  title: propTypes.string.isRequired,\n  placeholder: propTypes.string.isRequired\n};\nexport default Search;","map":{"version":3,"sources":["/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/src/components/search.js"],"names":["React","Component","propTypes","axios","baseUrl","searchCategory","searchSource","keyAPI","myReqUrl","Search","state","listNews","username","isLogin","search","componentDidMount","self","get","then","response","setState","data","articles","console","log","catch","error","handlInputChange","e","target","value","searchNews","keyword","length","width","paddingTop","props","placeholder","doSearch","title","string","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport axios from 'axios';\n\nconst baseUrl = \"https://newsapi.org/v2\";\nconst searchCategory = \"/top-headlines\";\nconst searchSource  = \"bbc-news\";\nconst keyAPI = \"31a74b58e4bb4e1bb1d7bb0542dd1d81\";\nconst myReqUrl = baseUrl + searchCategory + \"?sources=\"+ searchSource + \"&apiKey=\" + keyAPI\n\nimport '../styles/App.css';\n\n\nclass Search extends Component {\n\n    state={\n    listNews : [],\n    username : \"\",\n    isLogin : false,\n    search : \"\"\n    };\n    \n    componentDidMount = () => {\n        const self = this;\n        axios\n        .get(myReqUrl)\n        .then(function(response){\n        \n        self.setState({listNews: response.data.articles})\n        console.log(response.data)\n        })\n        .catch(function(error){\n        console.log(error)\n        })\n    }\n    \n    handlInputChange = e => {\n        console.log('event', e.target.value);\n        let value = e.target.value;\n    \n        this.setState(\n        {\n            search: value\n        },\n        () => {\n            this.searchNews(value);\n        }\n        );\n    };\n    \n    searchNews = async keyword => {\n        console.log('searchNews', keyword);\n        const self = this;\n        if(keyword.length > 4){\n        try {\n            const response = await axios.get(baseUrl + \"/everything?q=\" + keyword);\n            console.log(response);\n            self.setState({listNews : response.data.articles})\n            } catch (error){\n            console.log(error);\n            }\n        }\n        };\n    \n    \n\n\nrender() {\nreturn (\n    <section className=\"topsection\">\n        <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"col-md-4 col-sm-12 offset-md-0\">\n                    <div id=\"classSearch\">\n                        <form className=\"navbar-form navbar-center\" action=\"http:127.0.0.1:5000/pembeli/produk/search\">\n                            <div className=\"input-group col-lg-10\" style={{width:\"100%\", paddingTop: \"2px\"}}>\n                                \n                                <input \n                                type=\"text\" \n                                name='search' \n                                className=\"form-control\" \n                                id=\"search\" \n                                value={this.props.keyword} \n                                placeholder={this.props.placeholder} \n                                onChange={this.props.doSearch}\n                                />\n                                {/* <input type=\"text\" name='keyword' className=\"form-control\" placeholder=\"Search\"></input> */}\n                                <div className=\"input-group-btn\">\n                                    <button className=\"btn btn-success\" type=\"submit\">\n                                        <i className=\"glyphicon glyphicon-search\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n    </div>\n    </section>\n    );\n  }\n}\n\nSearch.propTypes = {\n    title: propTypes.string.isRequired,\n    placeholder: propTypes.string.isRequired\n};\n\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}