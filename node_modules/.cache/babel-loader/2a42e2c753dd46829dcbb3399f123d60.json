{"ast":null,"code":"import _defineProperty from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/src/pages/SignIn.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport { withRouter } from \"react-router-dom\";\n\nvar SignIn =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignIn, _Component);\n\n  function SignIn() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignIn);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignIn)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    _this.changeInput = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.postLogin = function () {\n      var _this$state = _this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n      var data = {\n        username: username,\n        password: password\n      };\n\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      axios.post(\"https://atareact.free.beeceptor.com/auth\", data).then(function (response) {\n        console.log(response.data);\n\n        if (response.data.hasOwnProperty('api_key')) {\n          localStorage.setItem('api_key', response.data.api_key);\n          localStorage.setItem('is_login', true);\n          localStorage.setItem('full_name', response.data.full_name);\n          localStorage.setItem('email', response.data.email);\n          self.props.history.push('/profile');\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SignIn, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('state', this.state);\n      return React.createElement(\"section\", {\n        className: \"content signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return e.preventDefault();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"SignIn\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        onChange: function onChange(e) {\n          return _this2.changeInput(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: function onChange(e) {\n          return _this2.changeInput(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.postLogin();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Sign in\"), React.createElement(\"button\", {\n        type: \"reset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Reset\")));\n    }\n  }]);\n\n  return SignIn;\n}(Component);\n\nexport default withRouter(SignIn);","map":{"version":3,"sources":["/home/alphatech/Desktop/Exercise_ATA_phase2/week1/react/challenge_react4/src/pages/SignIn.js"],"names":["React","Component","axios","withRouter","SignIn","state","username","password","changeInput","e","setState","target","name","value","postLogin","data","self","post","then","response","console","log","hasOwnProperty","localStorage","setItem","api_key","full_name","email","props","history","push","catch","error","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios';\nimport { withRouter } from \"react-router-dom\";\n\n\nclass SignIn extends Component {\n    state = {username:\"\", password:\"\"};\n    changeInput = e => {\n        this.setState({[e.target.name] : e.target.value});\n    };\n    postLogin = () => {\n        const {username, password} = this.state;\n        const data = {\n            username : username,\n            password : password\n        };\n        const self = this;\n        axios\n        .post(\"https://atareact.free.beeceptor.com/auth\", data)\n        .then(function(response){\n            console.log(response.data);\n            if(response.data.hasOwnProperty('api_key')){\n                localStorage.setItem('api_key', response.data.api_key);\n                localStorage.setItem('is_login', true);\n                localStorage.setItem('full_name', response.data.full_name);\n                localStorage.setItem('email', response.data.email);\n                self.props.history.push('/profile');\n            }\n        })\n        .catch(function(error){\n            console.log(error);\n        });\n    };\n    render(){\n        console.log('state', this.state);\n        return(\n            <section className=\"content signin\">\n            <form onSubmit={e=> e.preventDefault()}>\n            <h4>SignIn</h4>\n            <div>\n                <input\n                type = 'text'\n                name = 'username'\n                placeholder = 'Username'\n                onChange={e=> this.changeInput(e)}\n                /> \n            </div>\n            <div>\n            <input\n                type = 'password'\n                name = 'password'\n                placeholder = 'Password'\n                onChange={e=> this.changeInput(e)}\n                /> \n            </div>\n            <button onClick={() => this.postLogin()}>Sign in</button>\n            <button type='reset'>Reset</button>\n            </form>\n            </section>\n        );\n    }\n}\n\nexport default withRouter(SignIn);"]},"metadata":{},"sourceType":"module"}